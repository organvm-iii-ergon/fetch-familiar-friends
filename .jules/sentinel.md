## 2026-01-17 - AI Chat Input Validation
**Vulnerability:** The AI Chat interface (`AiModal.jsx`) completely lacked input validation, allowing users to submit empty strings or profanity, which could then be displayed back (though sanitization was technically missing, React protects against XSS). Additionally, the existing profanity filter (`isFamilyFriendly`) used a naive `.includes()` check, causing the Scunthorpe problem (e.g., flagging "classic" as "ass").
**Learning:** Security controls like input validation must be explicitly integrated into the UI layer, not just defined in utility files. Utility functions themselves must be robust against false positives to ensure they are actually usable and not disabled by frustrated users.
**Prevention:** Always trace user input from the UI component to the processing logic. Ensure validation utilities are imported and used. When implementing text filters, use regex with word boundaries (`\b`) instead of simple substring matching.
